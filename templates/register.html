<!-- wp:template-part {"slug":"header"} /-->

<!-- wp:group {"layout":{"type":"constrained"}} -->
<main>
  <!-- wp:html -->

  <?php if (isset($_GET['success'])): ?>
    <p style="color: green;">Registration successful!</p>
  <?php elseif (isset($_GET['error'])): ?>
    <p style="color: red;">
      <?php
      switch ($_GET['error']) {
        case 'password_mismatch': echo "Passwords do not match."; break;
        case 'email_exists': echo "Email already exists."; break;
        default: echo "Registration failed. Try again.";
      }
      ?>
    </p>
  <?php endif; ?>

  <form action="<?php echo esc_url(admin_url('admin-post.php')); ?>" method="post">
    <input type="hidden" name="action" value="handle_register_form" />
    <div class="container">
      <h1>Register</h1>
      <p>Please fill in this form to create an account.</p>
      <hr>

      <label for="email"><b>Email</b></label>
      <input type="text" placeholder="Enter Email" name="email" id="email" required />

      <label for="psw"><b>Password</b></label>
      <input type="password" placeholder="Enter Password" name="psw" id="psw" required />

      <label for="psw-repeat"><b>Repeat Password</b></label>
      <input type="password" placeholder="Repeat Password" name="psw-repeat" id="psw-repeat" required />
      <hr>

      <p>By creating an account you agree to our <a href="#">Terms & Privacy</a>.</p>
      <button type="submit" class="registerbtn">Register</button>
    </div>

    <div class="container signin">
      <p>Already have an account? <a href="#">Sign in</a>.</p>
    </div>
  </form>

  <!-- /wp:html -->
</main>
<!-- /wp:group -->

<!-- wp:template-part {"slug":"footer"} /-->
